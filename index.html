<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>NPC 상점 정보</title>
    <style>
        body { font-family: Arial, sans-serif; }
        .location { font-size: 20px; font-weight: bold; margin-top: 20px; }
        table { width: 100%; border-collapse: collapse; margin-top: 10px; }
        th, td { border: 1px solid #ccc; padding: 10px; text-align: center; }
        .color-box { width: 30px; height: 30px; display: inline-block; margin-right: 5px; }
        .link { margin-left: 10px; font-size: 14px; }
        p { color: gray; }
    </style>
</head>
<body>
    <h1>NPC 상점 정보 
        <a class="link" href="https://openapi.nexon.com/ko/my-application/" target="_blank">API 키 생성하러가기</a>
    </h1>
    <p>API 키는 애플리케이션 등록하기 눌러서 원하는 이름으로 만든 후, 그 이름 클릭해서 들어가서 첫번째 API Key 복사해오시면 됩니다</p>

    <!-- 서버 선택 및 채널 입력 -->
    <label for="serverSelect">서버 선택:</label>
    <select id="serverSelect">
        <option value="류트" selected>류트</option>
        <option value="만돌린">만돌린</option>
        <option value="하프">하프</option>
        <option value="울프">울프</option>
    </select>

    <label for="channelInput">채널 번호:</label>
    <input type="text" id="channelInput" placeholder="채널 번호를 입력하세요" value="1" />

    <label for="apiKeyInput">API 키:</label>
    <input type="text" id="apiKeyInput" placeholder="API 키를 입력하세요" value="" />  <!-- 초기값 설정 -->

    <button id="fetchButton">검색</button>

    <div id="content"></div>

    <script src="script.js"></script>  <!-- JavaScript 파일 연결 -->
    <script>
        // 페이지가 로드될 때 실행
        window.onload = function() {
            // 로컬 스토리지에서 API 키 가져오기
            const storedApiKey = localStorage.getItem('apiKey');
            if (storedApiKey) {
                document.getElementById('apiKeyInput').value = storedApiKey; // 가져온 키를 입력 필드에 설정
            }
        };

        // API 키 입력 필드에 이벤트 리스너 추가
        document.getElementById('apiKeyInput').addEventListener('input', function() {
            const apiKey = this.value; // 입력값 가져오기
            localStorage.setItem('apiKey', apiKey); // 로컬 스토리지에 저장
        });
    </script>
</body>
</html>
